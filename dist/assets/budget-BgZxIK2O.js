function e(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}import"./modulepreload-polyfill-YP0FEG5d.js";import"./config-BVEHcmK7.js";import"./validation-DH8JBn6E.js";import"./vendor-utils-D8RwcFva.js";import"./activityLogger-C4qvEfwc.js";import"./preload-helper-BzSHXCLh.js";class t{constructor(){this.cache=new Map,this.debounceTimers=new Map,this.observers=new Map}debounce(e,t,n="default"){return(...o)=>{clearTimeout(this.debounceTimers.get(n));const i=setTimeout(()=>e.apply(this,o),t);this.debounceTimers.set(n,i)}}throttle(e,t,n="default"){let o;return(...n)=>{o||(e.apply(this,n),o=!0,setTimeout(()=>o=!1,t))}}memoize(e,t=(...e)=>JSON.stringify(e)){return(...n)=>{const o=t(...n);if(this.cache.has(o))return this.cache.get(o);const i=e.apply(this,n);return this.cache.set(o,i),i}}lazyLoadImages(){if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.classList.remove("lazy"),t.unobserve(n)}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}}preloadResource(e,t="script",n=!1){const o=document.createElement("link");o.rel="preload",o.href=e,o.as=t,n&&(o.crossOrigin="anonymous"),document.head.appendChild(o)}prefetchResource(e){const t=document.createElement("link");t.rel="prefetch",t.href=e,document.head.appendChild(t)}querySelector(e,t=document){const n="query_".concat(e,"_").concat(t===document?"doc":"ctx");if(this.cache.has(n))return this.cache.get(n);const o=t.querySelector(e);return this.cache.set(n,o),o}batchDOMUpdates(e){requestAnimationFrame(()=>{e.forEach(e=>e())})}optimizeScroll(e,t={}){const{throttle:n=16,passive:o=!0}=t,i=this.throttle(e,n);return window.addEventListener("scroll",i,{passive:o}),()=>{window.removeEventListener("scroll",i)}}optimizeResize(e,t={}){const{throttle:n=100,passive:o=!0}=t,i=this.throttle(e,n);return window.addEventListener("resize",i,{passive:o}),()=>{window.removeEventListener("resize",i)}}createVirtualScroller(e,t,n,o){const i=Math.ceil(e.clientHeight/t)+2;let s=0;const a=()=>{const a=Math.floor(s/t),r=Math.min(a+i,o);e.innerHTML="";for(let o=a;o<r;o++){const i=n(o);i.style.position="absolute",i.style.top="".concat(o*t,"px"),i.style.height="".concat(t,"px"),e.appendChild(i)}};e.addEventListener("scroll",this.throttle(()=>{s=e.scrollTop,a()},16)),a()}measurePerformance(e,t){performance.now();const n=t();performance.now();return n}getMemoryUsage(){return performance.memory?{used:Math.round(performance.memory.usedJSHeapSize/1048576),total:Math.round(performance.memory.totalJSHeapSize/1048576),limit:Math.round(performance.memory.jsHeapSizeLimit/1048576)}:null}cleanup(){this.cache.clear(),this.debounceTimers.forEach(e=>clearTimeout(e)),this.debounceTimers.clear(),this.observers.forEach(e=>e.disconnect()),this.observers.clear()}}window.PerformanceUtils=new t,"undefined"!=typeof module&&module.exports&&(module.exports=t);class n{constructor(){this.touchStartY=0,this.touchStartX=0,this.isScrolling=!1,this.swipeThreshold=50,this.tapThreshold=10,this.lastTap=0,this.doubleTapDelay=300}init(){this.setupTouchEvents(),this.setupSwipeGestures(),this.setupPullToRefresh(),this.optimizeViewport(),this.setupKeyboardHandling(),this.setupHapticFeedback()}setupTouchEvents(){let e=0;document.addEventListener("touchend",t=>{const n=(new Date).getTime();n-e<=300&&t.preventDefault(),e=n},!1),this.optimizeTouchTargets(),this.addTouchFeedback()}optimizeTouchTargets(){document.querySelectorAll('button, a, input, select, textarea, [role="button"]').forEach(e=>{const t=e.getBoundingClientRect();(t.width<44||t.height<44)&&(e.style.minWidth="".concat(44,"px"),e.style.minHeight="".concat(44,"px"),e.style.padding="12px")})}addTouchFeedback(){document.querySelectorAll('button, a, [role="button"]').forEach(e=>{e.addEventListener("touchstart",()=>{e.classList.add("touch-active")}),e.addEventListener("touchend",()=>{setTimeout(()=>{e.classList.remove("touch-active")},150)}),e.addEventListener("touchcancel",()=>{e.classList.remove("touch-active")})})}setupSwipeGestures(){let e,t,n,o;document.addEventListener("touchstart",n=>{e=n.touches[0].clientX,t=n.touches[0].clientY}),document.addEventListener("touchend",i=>{n=i.changedTouches[0].clientX,o=i.changedTouches[0].clientY;const s=n-e,a=o-t;Math.abs(s)>Math.abs(a)&&Math.abs(s)>this.swipeThreshold&&(s>0?this.handleSwipeRight():this.handleSwipeLeft()),Math.abs(a)>Math.abs(s)&&Math.abs(a)>this.swipeThreshold&&(a>0?this.handleSwipeDown():this.handleSwipeUp())})}handleSwipeRight(){window.history.length>1&&window.history.back()}handleSwipeLeft(){const e=document.querySelector(".modal, .profile-modal");e&&"none"!==e.style.display&&(e.style.display="none")}handleSwipeUp(){window.scrollTo({top:0,behavior:"smooth"})}handleSwipeDown(){this.triggerPullToRefresh()}setupPullToRefresh(){let e=0,t=0,n=!1;document.addEventListener("touchstart",t=>{0===window.scrollY&&(e=t.touches[0].clientY,n=!0)}),document.addEventListener("touchmove",o=>{if(!n)return;t=o.touches[0].clientY;const i=t-e;i>0&&(o.preventDefault(),i>100&&this.showPullToRefresh())}),document.addEventListener("touchend",()=>{n&&t-e>100&&this.triggerRefresh(),n=!1})}showPullToRefresh(){pullElement=document.createElement("div"),pullElement.className="pull-to-refresh",pullElement.innerHTML='\n      <div class="pull-to-refresh-content">\n        <div class="spinner"></div>\n        <p>Pull to refresh</p>\n      </div>\n    ',pullElement.style.cssText="\n      position: fixed;\n      top: -100px;\n      left: 0;\n      right: 0;\n      height: 100px;\n      background: var(--card);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 1000;\n      transition: transform 0.3s ease;\n    ",document.body.appendChild(pullElement)}triggerRefresh(){const e=JSON.parse(sessionStorage.getItem("reload-history")||"[]"),t=Date.now();e.filter(e=>t-e<3e4).length>=1||"true"===sessionStorage.getItem("reload-blocked")||(e.push(t),sessionStorage.setItem("reload-history",JSON.stringify(e)),window.location.reload())}optimizeViewport(){if(!document.querySelector('meta[name="viewport"]')){const e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no",document.head.appendChild(e)}window.addEventListener("orientationchange",()=>{setTimeout(()=>{this.optimizeTouchTargets()},100)})}setupKeyboardHandling(){let e=window.innerHeight;window.addEventListener("resize",()=>{const t=window.innerHeight;e-t>150?(document.body.classList.add("keyboard-open"),this.scrollToActiveElement()):document.body.classList.remove("keyboard-open")})}scrollToActiveElement(){const e=document.activeElement;e&&e.scrollIntoView&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"center"})},300)}setupHapticFeedback(){"vibrate"in navigator&&document.querySelectorAll('button, [role="button"]').forEach(e=>{e.addEventListener("click",()=>{navigator.vibrate(10)})})}setupDoubleTap(e,t){let n=0;e.addEventListener("touchend",e=>{const o=(new Date).getTime(),i=o-n;i<this.doubleTapDelay&&i>0&&(e.preventDefault(),t(e)),n=o})}optimizeFormInputs(){document.querySelectorAll("input, textarea, select").forEach(e=>{"text"===e.type&&e.name.includes("email")?(e.type="email",e.inputMode="email"):e.name.includes("phone")||e.name.includes("number")?(e.type="tel",e.inputMode="numeric"):(e.name.includes("amount")||e.name.includes("price"))&&(e.type="number",e.inputMode="decimal"),e.setAttribute("autocomplete","on"),e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")})}setupAppStateHandling(){document.addEventListener("visibilitychange",()=>{document.hidden?this.handleAppBackground():this.handleAppForeground()})}handleAppBackground(){document.body.classList.add("app-background")}handleAppForeground(){document.body.classList.remove("app-background"),window.refreshData&&window.refreshData()}getDeviceInfo(){return{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isIOS:/iPad|iPhone|iPod/.test(navigator.userAgent),isAndroid:/Android/.test(navigator.userAgent),hasTouch:"ontouchstart"in window,screenWidth:window.screen.width,screenHeight:window.screen.height,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight}}initAll(){this.init(),this.optimizeFormInputs(),this.setupAppStateHandling()}}window.MobileOptimizer=new n,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{window.MobileOptimizer.initAll()}):window.MobileOptimizer.initAll(),"undefined"!=typeof module&&module.exports&&(module.exports=n);class o{constructor(){this.focusableElements='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',this.focusTrapStack=[],this.announcer=null}init(){this.setupKeyboardNavigation(),this.setupARIALabels(),this.setupFocusManagement(),this.setupScreenReaderSupport(),this.setupHighContrastMode(),this.setupReducedMotion(),this.createLiveRegion()}setupKeyboardNavigation(){document.addEventListener("keydown",e=>{"Tab"===e.key?this.handleTabNavigation(e):"Escape"===e.key?this.handleEscapeKey(e):"Enter"!==e.key&&" "!==e.key||this.handleActivationKey(e)}),this.addFocusIndicators()}handleTabNavigation(e){const t=this.getFocusableElements(),n=t[0],o=t[t.length-1];e.shiftKey?document.activeElement===n&&(e.preventDefault(),o.focus()):document.activeElement===o&&(e.preventDefault(),n.focus())}handleEscapeKey(e){document.querySelectorAll(".modal, .profile-modal, .dropdown").forEach(e=>{if("none"!==e.style.display&&""!==e.style.display){e.style.display="none";const t=document.querySelector('[aria-controls="'.concat(e.id,'"]'));t&&t.focus()}})}handleActivationKey(e){const t=e.target;"button"!==t.getAttribute("role")||t.disabled||(e.preventDefault(),t.click()),(t.classList.contains("tool-card")||t.classList.contains("stat-tile"))&&(e.preventDefault(),t.click())}addFocusIndicators(){const e=document.createElement("style");e.textContent="\n      *:focus {\n        outline: 2px solid #2563eb !important;\n        outline-offset: 2px !important;\n      }\n      \n      .focus-visible {\n        outline: 2px solid #2563eb !important;\n        outline-offset: 2px !important;\n      }\n      \n      .skip-link {\n        position: absolute;\n        top: -40px;\n        left: 6px;\n        background: #2563eb;\n        color: white;\n        padding: 8px;\n        text-decoration: none;\n        border-radius: 4px;\n        z-index: 1000;\n      }\n      \n      .skip-link:focus {\n        top: 6px;\n      }\n    ",document.head.appendChild(e)}setupARIALabels(){this.addSkipLink(),this.addARIALabels(),this.setupLandmarks()}addSkipLink(){const e=document.createElement("a");e.href="#main-content",e.className="skip-link",e.textContent="Skip to main content",document.body.insertBefore(e,document.body.firstChild)}addARIALabels(){document.querySelectorAll(".tool-card").forEach((e,t)=>{const n=e.querySelector("h3"),o=e.querySelector("p");n&&o&&(e.setAttribute("aria-label","".concat(n.textContent,": ").concat(o.textContent)),e.setAttribute("role","button"),e.setAttribute("tabindex","0"))}),document.querySelectorAll(".stat-tile").forEach(e=>{const t=e.querySelector("h3"),n=e.querySelector(".stat-value");t&&n&&(e.setAttribute("aria-label","".concat(t.textContent,": ").concat(n.textContent)),e.setAttribute("role","button"),e.setAttribute("tabindex","0"))}),document.querySelectorAll("button").forEach(e=>{e.getAttribute("aria-label")||e.textContent.trim()||e.setAttribute("aria-label","Button")}),document.querySelectorAll("input, select, textarea").forEach(e=>{if(!e.getAttribute("aria-label")&&!e.getAttribute("aria-labelledby")){const t=document.querySelector('label[for="'.concat(e.id,'"]'));t?e.setAttribute("aria-labelledby",t.id||"label-"+e.id):e.setAttribute("aria-label",e.placeholder||e.name||"Input field")}})}setupLandmarks(){const e=document.querySelector("header");e&&e.setAttribute("role","banner");const t=document.querySelector("main")||document.querySelector(".dashboard");t&&(t.setAttribute("role","main"),t.id="main-content");const n=document.querySelector("nav");n&&n.setAttribute("role","navigation");const o=document.querySelector("footer");o&&o.setAttribute("role","contentinfo")}setupFocusManagement(){document.addEventListener("focusin",e=>{this.announceFocusChange(e.target)}),this.setupFocusTrapping()}announceFocusChange(e){const t=this.getElementLabel(e);t&&this.announce(t)}getElementLabel(e){var t;return e.getAttribute("aria-label")||e.getAttribute("aria-labelledby")||(null==(t=e.textContent)?void 0:t.trim())||e.alt||e.title}setupFocusTrapping(){document.querySelectorAll(".modal, .profile-modal").forEach(e=>{const t=e.querySelectorAll(this.focusableElements),n=t[0],o=t[t.length-1];e.addEventListener("keydown",e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(e.preventDefault(),o.focus()):document.activeElement===o&&(e.preventDefault(),n.focus()))})})}setupScreenReaderSupport(){this.createLiveRegion(),this.addScreenReaderOnlyText(),this.setupFormValidationAnnouncements()}createLiveRegion(){this.announcer=document.createElement("div"),this.announcer.setAttribute("aria-live","polite"),this.announcer.setAttribute("aria-atomic","true"),this.announcer.className="sr-only",this.announcer.style.cssText="\n      position: absolute;\n      left: -10000px;\n      width: 1px;\n      height: 1px;\n      overflow: hidden;\n    ",document.body.appendChild(this.announcer)}announce(e){this.announcer&&(this.announcer.textContent=e,setTimeout(()=>{this.announcer.textContent=""},1e3))}addScreenReaderOnlyText(){const e=document.createElement("style");e.textContent="\n      .sr-only {\n        position: absolute;\n        left: -10000px;\n        width: 1px;\n        height: 1px;\n        overflow: hidden;\n      }\n      \n      .sr-only-focusable:focus {\n        position: static;\n        width: auto;\n        height: auto;\n        overflow: visible;\n      }\n    ",document.head.appendChild(e)}setupFormValidationAnnouncements(){document.addEventListener("invalid",e=>{const t=e.target.validationMessage;this.announce("Error: ".concat(t))}),document.addEventListener("input",e=>{e.target.checkValidity()&&this.announce("Field is valid")})}setupHighContrastMode(){window.matchMedia("(prefers-contrast: high)").matches&&document.body.classList.add("high-contrast"),window.matchMedia("(prefers-contrast: high)").addEventListener("change",e=>{e.matches?document.body.classList.add("high-contrast"):document.body.classList.remove("high-contrast")})}setupReducedMotion(){window.matchMedia("(prefers-reduced-motion: reduce)").matches&&document.body.classList.add("reduced-motion"),window.matchMedia("(prefers-reduced-motion: reduce)").addEventListener("change",e=>{e.matches?document.body.classList.add("reduced-motion"):document.body.classList.remove("reduced-motion")})}getFocusableElements(){return Array.from(document.querySelectorAll(this.focusableElements)).filter(e=>!e.disabled&&!e.hidden&&null!==e.offsetParent)}focusFirst(){const e=this.getFocusableElements();e.length>0&&e[0].focus()}focusLast(){const e=this.getFocusableElements();e.length>0&&e[e.length-1].focus()}focusElement(e){const t=document.getElementById(e);t&&t.focus()}setupKeyboardShortcuts(){document.addEventListener("keydown",e=>{if(e.altKey&&"m"===e.key&&(e.preventDefault(),this.focusElement("main-content")),e.altKey&&"n"===e.key){e.preventDefault();const t=document.querySelector("nav");t&&t.focus()}e.altKey&&"h"===e.key&&(e.preventDefault(),window.location.href="index.html")})}initAll(){this.init(),this.setupKeyboardShortcuts(),this.announce("Page loaded")}}window.AccessibilityUtils=new o,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{window.AccessibilityUtils.initAll()}):window.AccessibilityUtils.initAll(),"undefined"!=typeof module&&module.exports&&(module.exports=o);export{e as __vite_legacy_guard};

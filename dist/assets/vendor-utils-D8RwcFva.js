var t,e,n=Object.getOwnPropertyNames,a=(t={"assets/vendor-utils-D8RwcFva.js"(t,e){class n{constructor(){this.errorLog=[],this.maxLogSize=100}static getUserMessage(t){return{"auth/user-not-found":"No account found with this email address","auth/wrong-password":"Incorrect password. Please try again","auth/email-already-in-use":"An account with this email already exists","auth/weak-password":"Password is too weak. Please choose a stronger password","auth/invalid-email":"Please enter a valid email address","auth/too-many-requests":"Too many failed attempts. Please try again later","auth/network-request-failed":"Network error. Please check your connection","permission-denied":"You do not have permission to perform this action",unavailable:"Service temporarily unavailable. Please try again later","invalid-argument":"Invalid input. Please check your data and try again"}[t.code]||t.message||"An unexpected error occurred"}static showError(t,e=5e3){this.showNotification(t,"error",e)}static showSuccess(t,e=3e3){this.showNotification(t,"success",e)}static showWarning(t,e=4e3){this.showNotification(t,"warning",e)}static showInfo(t,e=3e3){this.showNotification(t,"info",e)}static showNotification(t,e="info",n=3e3){if(!document.querySelector("#toast-styles")){const t=document.createElement("style");t.id="toast-styles",t.textContent='\n        .toast-stack {\n          position: fixed;\n          top: 24px;\n          right: 24px;\n          display: flex;\n          flex-direction: column;\n          gap: 14px;\n          z-index: 11000;\n          pointer-events: none;\n        }\n\n        .toast {\n          width: min(360px, calc(100vw - 32px));\n          background: rgba(15, 23, 42, 0.88);\n          backdrop-filter: blur(16px);\n          border-radius: 16px;\n          border: 1px solid rgba(148, 163, 184, 0.25);\n          padding: 18px 20px;\n          color: #e2e8f0;\n          box-shadow: 0 16px 40px rgba(15, 23, 42, 0.35);\n          transform: translateY(-16px);\n          opacity: 0;\n          transition: transform 0.3s ease, opacity 0.3s ease;\n          pointer-events: auto;\n          position: relative;\n          overflow: hidden;\n        }\n\n        .toast.visible {\n          transform: translateY(0);\n          opacity: 1;\n        }\n\n        .toast::before {\n          content: "";\n          position: absolute;\n          inset: 0;\n          background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0));\n          pointer-events: none;\n        }\n\n        .toast-icon {\n          width: 36px;\n          height: 36px;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 20px;\n          flex-shrink: 0;\n        }\n\n        .toast-body {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .toast-body strong {\n          font-size: 0.95rem;\n          letter-spacing: 0.02em;\n        }\n\n        .toast-body p {\n          margin: 0;\n          font-size: 0.85rem;\n          color: #cbd5f5;\n          line-height: 1.45;\n        }\n\n        .toast-close {\n          background: rgba(148, 163, 184, 0.18);\n          border: none;\n          color: #cbd5f5;\n          width: 28px;\n          height: 28px;\n          border-radius: 8px;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: background-color 0.2s ease;\n        }\n\n        .toast-close:hover {\n          background: rgba(148, 163, 184, 0.32);\n        }\n\n        .toast.toast-success .toast-icon { background: rgba(34, 197, 94, 0.18); color: #34d399; }\n        .toast.toast-error .toast-icon { background: rgba(248, 113, 113, 0.18); color: #f87171; }\n        .toast.toast-warning .toast-icon { background: rgba(250, 204, 21, 0.18); color: #facc15; }\n        .toast.toast-info .toast-icon { background: rgba(96, 165, 250, 0.18); color: #60a5fa; }\n\n        .toast-progress {\n          position: absolute;\n          left: 0;\n          bottom: 0;\n          height: 3px;\n          background: currentColor;\n          width: 0%;\n          opacity: 0.85;\n        }\n\n        .toast.toast-success { color: #d1fae5; }\n        .toast.toast-error { color: #fee2e2; }\n        .toast.toast-warning { color: #fef9c3; }\n        .toast.toast-info { color: #dbeafe; }\n\n        @keyframes toastProgress {\n          from { width: 0%; }\n          to { width: 100%; }\n        }\n\n        @media (max-width: 480px) {\n          .toast-stack {\n            left: 50%;\n            right: auto;\n            transform: translateX(-50%);\n            top: 16px;\n          }\n\n          .toast {\n            width: min(92vw, 360px);\n          }\n        }\n      ',document.head.appendChild(t)}let a=document.querySelector(".toast-stack");a||(a=document.createElement("div"),a.className="toast-stack",document.body.appendChild(a));const s=document.createElement("div");s.className="toast toast-".concat(e),s.innerHTML='\n      <div class="toast-content" style="display:flex;gap:14px;align-items:flex-start;position:relative;z-index:1;">\n        <div class="toast-icon">'.concat(this.getIcon(e),'</div>\n        <div class="toast-body">\n          <strong>').concat(this.getTitle(e),"</strong>\n          <p>").concat(t,'</p>\n        </div>\n        <button class="toast-close" aria-label="Dismiss notification">×</button>\n      </div>\n      <div class="toast-progress"></div>\n    '),a.prepend(s);const o=s.querySelector(".toast-progress");let r=n,i=performance.now();requestAnimationFrame(()=>{s.classList.add("visible"),o&&(o.style.animation="toastProgress ".concat(n,"ms linear forwards"))});const c=()=>{s.remove(),a.children.length||a.remove()},l=()=>{clearTimeout(d),s.classList.remove("visible"),setTimeout(c,220)};let d=setTimeout(l,n);s.querySelector(".toast-close").addEventListener("click",l),s.addEventListener("mouseenter",()=>{clearTimeout(d);const t=performance.now()-i;r=Math.max(0,r-t),o&&(o.style.animationPlayState="paused")}),s.addEventListener("mouseleave",()=>{i=performance.now(),o&&(o.style.animation="none",o.offsetWidth,o.style.animation="toastProgress ".concat(r,"ms linear forwards"),o.style.animationPlayState="running"),d=setTimeout(l,r)})}static getIcon(t){return{success:"✅",error:"❌",warning:"⚠️",info:"ℹ️"}[t]||"ℹ️"}static getTitle(t){return{success:"Success",error:"Something went wrong",warning:"Heads up",info:"FYI"}[t]||"Notice"}static logError(t,e={}){var n,a;const s={timestamp:(new Date).toISOString(),message:t.message,stack:t.stack,context:e,userAgent:navigator.userAgent,url:window.location.href};try{const t=JSON.parse(localStorage.getItem("errorLogs")||"[]");t.push(s),t.length>50&&t.splice(0,t.length-50),localStorage.setItem("errorLogs",JSON.stringify(t))}catch(o){}(null==(a=null==(n=window.CONFIG)?void 0:n.features)?void 0:a.enableErrorReporting)&&this.reportError(s)}static async reportError(t){}static handleFirebaseError(t){const e=this.getUserMessage(t);this.showError(e),this.logError(t,{type:"firebase"})}static handleValidationError(t){this.showError(t.message),this.logError(t,{type:"validation"})}static handleNetworkError(t){this.showError("Network error. Please check your connection and try again."),this.logError(t,{type:"network"})}static setupGlobalErrorHandling(){window.addEventListener("error",t=>{this.logError(t.error,{type:"global",filename:t.filename,lineno:t.lineno})}),window.addEventListener("unhandledrejection",t=>{this.logError(new Error(t.reason),{type:"unhandledPromise"})})}}void 0!==e&&e.exports?e.exports=n:window.ErrorHandler=n;class a{constructor(){this.events=[],this.sessionId=this.generateSessionId(),this.startTime=Date.now(),this.pageViews=0,this.userInteractions=0,this.errors=0,this.performanceMetrics={},this.init()}init(){this.trackPageView(),this.setupPerformanceMonitoring(),this.setupUserInteractionTracking(),this.setupErrorTracking(),this.setupCustomEvents()}generateSessionId(){return"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}trackPageView(){this.pageViews++;const t={event:"page_view",page:window.location.pathname,title:document.title,timestamp:(new Date).toISOString(),sessionId:this.sessionId,userAgent:navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight}};this.events.push(t),this.log("Page view tracked",t)}setupUserInteractionTracking(){document.addEventListener("click",t=>{var e;this.userInteractions++,this.trackEvent("click",{element:t.target.tagName,id:t.target.id,className:t.target.className,text:null==(e=t.target.textContent)?void 0:e.substring(0,100),x:t.clientX,y:t.clientY})}),document.addEventListener("submit",t=>{this.trackEvent("form_submit",{formId:t.target.id,formAction:t.target.action,formMethod:t.target.method})}),document.addEventListener("input",t=>{"text"!==t.target.type&&"email"!==t.target.type&&"password"!==t.target.type||this.trackEvent("input_change",{elementId:t.target.id,elementType:t.target.type,fieldName:t.target.name})}),document.addEventListener("click",t=>{var e;const n=t.target.closest(".tool-card");if(n&&"A"===n.tagName&&n.href){const t=null==(e=n.querySelector("h3"))?void 0:e.textContent;this.trackEvent("tool_click",{toolName:t,toolUrl:n.href})}},!0)}trackEvent(t,e={}){const n={event:t,timestamp:(new Date).toISOString(),sessionId:this.sessionId,page:window.location.pathname,...e};this.events.push(n),this.log("Event tracked",n)}trackFinancialCalculation(t,e,n){this.trackEvent("financial_calculation",{calculationType:t,inputData:this.sanitizeData(e),result:this.sanitizeData(n),timestamp:(new Date).toISOString()})}setupErrorTracking(){window.addEventListener("error",t=>{var e;this.errors++,this.trackEvent("javascript_error",{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,stack:null==(e=t.error)?void 0:e.stack})}),window.addEventListener("unhandledrejection",t=>{var e,n;this.errors++,this.trackEvent("unhandled_promise_rejection",{reason:null==(e=t.reason)?void 0:e.toString(),stack:null==(n=t.reason)?void 0:n.stack})})}setupPerformanceMonitoring(){window.addEventListener("load",()=>{const t=performance.getEntriesByType("navigation")[0];t&&(this.performanceMetrics={domContentLoaded:t.domContentLoadedEventEnd-t.domContentLoadedEventStart,loadComplete:t.loadEventEnd-t.loadEventStart,totalLoadTime:t.loadEventEnd-t.fetchStart,firstPaint:this.getFirstPaint(),firstContentfulPaint:this.getFirstContentfulPaint()},this.trackEvent("performance_metrics",this.performanceMetrics))}),performance.memory&&setInterval(()=>{this.trackEvent("memory_usage",{used:Math.round(performance.memory.usedJSHeapSize/1048576),total:Math.round(performance.memory.totalJSHeapSize/1048576),limit:Math.round(performance.memory.jsHeapSizeLimit/1048576)})},3e4)}getFirstPaint(){const t=performance.getEntriesByType("paint").find(t=>"first-paint"===t.name);return t?t.startTime:null}getFirstContentfulPaint(){const t=performance.getEntriesByType("paint").find(t=>"first-contentful-paint"===t.name);return t?t.startTime:null}setupCustomEvents(){if(window.auth&&window.auth.onAuthStateChanged(t=>{t?this.trackEvent("user_login",{userId:t.uid,email:t.email,loginMethod:"email"}):this.trackEvent("user_logout")}),window.extendSession){const t=window.extendSession;window.extendSession=()=>(this.trackEvent("session_extended"),t())}}trackUserJourney(t,e={}){this.trackEvent("user_journey",{step:t,journeyData:e,timestamp:(new Date).toISOString()})}trackFinancialGoal(t,e){this.trackEvent("financial_goal",{goalType:t,goalData:this.sanitizeData(e),timestamp:(new Date).toISOString()})}trackDebtProgress(t,e){this.trackEvent("debt_progress",{debtCount:t.length,totalDebt:t.reduce((t,e)=>t+(e.balance||0),0),progressData:this.sanitizeData(e),timestamp:(new Date).toISOString()})}trackBudgetPerformance(t,e){this.trackEvent("budget_performance",{budgetedAmount:t.reduce((t,e)=>t+(e.budgeted||0),0),actualSpending:e.reduce((t,e)=>t+(e.actual||0),0),variance:this.calculateVariance(t,e),timestamp:(new Date).toISOString()})}calculateVariance(t,e){const n=t.reduce((t,e)=>t+(e.budgeted||0),0);return(e.reduce((t,e)=>t+(e.actual||0),0)-n)/n*100}sanitizeData(t){if("object"!=typeof t||null===t)return t;const e={},n=["password","ssn","creditCard","bankAccount"];for(const[a,s]of Object.entries(t))n.some(t=>a.toLowerCase().includes(t))?e[a]="[REDACTED]":e[a]="object"==typeof s?this.sanitizeData(s):s;return e}getSessionSummary(){const t=Date.now()-this.startTime;return{sessionId:this.sessionId,duration:Math.round(t/1e3),pageViews:this.pageViews,userInteractions:this.userInteractions,errors:this.errors,events:this.events.length,performance:this.performanceMetrics,timestamp:(new Date).toISOString()}}exportData(){return{session:this.getSessionSummary(),events:this.events,timestamp:(new Date).toISOString()}}async sendAnalytics(){var t,e;if(null==(e=null==(t=window.CONFIG)?void 0:t.features)?void 0:e.enableAnalytics)try{const t=this.exportData();localStorage.setItem("analytics_data",JSON.stringify(t))}catch(n){}}log(t,e){var n,a;null==(a=null==(n=window.CONFIG)?void 0:n.features)||a.enableAnalytics}trackABTest(t,e,n){this.trackEvent("ab_test",{testName:t,variant:e,action:n,timestamp:(new Date).toISOString()})}trackFeatureUsage(t,e={}){this.trackEvent("feature_usage",{feature:t,usageData:this.sanitizeData(e),timestamp:(new Date).toISOString()})}trackConversion(t,e=null){this.trackEvent("conversion",{type:t,value:e,timestamp:(new Date).toISOString()})}cleanup(){this.events.length>100&&(this.events=this.events.slice(-100))}}window.Analytics=new a,void 0!==e&&e.exports&&(e.exports=a)}},function(){return e||(0,t[n(t)[0]])((e={exports:{}}).exports,e),e.exports});export default a();
